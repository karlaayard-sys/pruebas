<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de Inteligencia Artificial</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1e293b;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background: #ffffff;
            padding: 32px 48px;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            max-width: 700px;
            width: 100%;
            text-align: center;
            transition: all 0.3s ease-in-out;
        }

        .container:hover {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            color: #1a202c;
            margin-bottom: 24px;
            font-size: 2.25rem;
            font-weight: 700;
        }

        .hidden {
            display: none;
        }

        #user-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        #user-form label {
            text-align: left;
            font-weight: 600;
            color: #4a5568;
        }

        #user-form input {
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        #user-form input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.5);
        }

        button {
            padding: 12px 24px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }

        button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }

        #question-area {
            text-align: left;
        }

        #question-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 24px;
        }

        #options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 24px;
        }

        .option {
            padding: 16px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.3s, border-color 0.3s, transform 0.1s;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #a0aec0;
            transform: translateY(-2px);
        }

        .option.correct {
            background-color: #48bb78;
            color: white;
            border-color: #48bb78;
        }

        .option.incorrect {
            background-color: #f56565;
            color: white;
            border-color: #f56565;
        }

        #timer {
            font-size: 1.25rem;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 16px;
        }

        .result-box {
            text-align: left;
            padding: 24px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            background-color: #f7fafc;
        }

        .result-box p {
            font-size: 1.125rem;
            color: #4a5568;
            margin: 8px 0;
        }
        
        .result-box p span {
            font-weight: 600;
            color: #2d3748;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Examen de Inteligencia Artificial</h1>
        </header>
        <main id="main-content">
            <section id="user-info">
                <h2>Ingresa tus datos para comenzar</h2>
                <form id="user-form">
                    <label for="full-name">Nombre completo:</label>
                    <input type="text" id="full-name" name="full-name" required>
                    <label for="email">Correo electrónico:</label>
                    <input type="email" id="email" name="email" required>
                    <button type="submit">Iniciar Examen</button>
                </form>
            </section>
            
            <section id="quiz-container" class="hidden">
                <div id="question-area">
                    <p id="timer">Tiempo restante: 30s</p>
                    <h2 id="question-text"></h2>
                    <div id="options-container"></div>
                </div>
            </section>
            
            <section id="results-container" class="hidden">
                <div class="result-box">
                    <h2>Resultados del Examen</h2>
                    <p>Nombre: <span id="final-name"></span></p>
                    <p>Correo: <span id="final-email"></span></p>
                    <p>Puntuación: <span id="score"></span> / 10</p>
                    <button id="download-score">Descargar Puntuación</button>
                </div>
            </section>
        </main>
    </div>

    <script>
        const allQuestions = [
            { question: '¿Cuál es el objetivo principal de la inteligencia artificial?', options: ['Simular la inteligencia humana.', 'Aumentar la velocidad de las computadoras.', 'Crear robots humanoides.', 'Almacenar grandes cantidades de datos.'], correctAnswer: 'Simular la inteligencia humana.' },
            { question: '¿Qué disciplina busca simular el razonamiento humano mediante máquinas?', options: ['Inteligencia artificial.', 'Robótica.', 'Ciencia de datos.', 'Computación cuántica.'], correctAnswer: 'Inteligencia artificial.' },
            { question: '¿Qué característica distingue a la IA de otros sistemas computacionales?', options: ['La capacidad de aprender, razonar y tomar decisiones con autonomía.', 'La rapidez de procesamiento.', 'La capacidad de almacenamiento.', 'La interfaz de usuario intuitiva.'], correctAnswer: 'La capacidad de aprender, razonar y tomar decisiones con autonomía.' },
            { question: '¿Qué campo se considera precursor de la IA?', options: ['Lógica y filosofía.', 'La biología molecular.', 'La física teórica.', 'La economía.'], correctAnswer: 'Lógica y filosofía.' },
            { question: '¿Qué implica el concepto de agente inteligente?', options: ['Un sistema que percibe su entorno, procesa información y actúa para alcanzar objetivos.', 'Un robot que puede hablar.', 'Un programa que puede jugar ajedrez.', 'Un sistema que solo ejecuta comandos.'], correctAnswer: 'Un sistema que percibe su entorno, procesa información y actúa para alcanzar objetivos.' },
            { question: '¿Qué tipo de inteligencia se relaciona con la capacidad de entender y manejar emociones?', options: ['Inteligencia emocional.', 'Inteligencia lógico-matemática.', 'Inteligencia espacial.', 'Inteligencia intrapersonal.'], correctAnswer: 'Inteligencia emocional.' },
            { question: '¿Cuál de las siguientes inteligencias se vincula con la resolución de problemas matemáticos?', options: ['Inteligencia lógico-matemática.', 'Inteligencia musical.', 'Inteligencia cinestésica.', 'Inteligencia lingüística.'], correctAnswer: 'Inteligencia lógico-matemática.' },
            { question: '¿Qué tipo de inteligencia se asocia con la habilidad para visualizar objetos en el espacio?', options: ['Inteligencia espacial.', 'Inteligencia interpersonal.', 'Inteligencia naturalista.', 'Inteligencia kinestésica.'], correctAnswer: 'Inteligencia espacial.' },
            { question: '¿Qué inteligencia es clave para la interacción social efectiva?', options: ['Inteligencia interpersonal.', 'Inteligencia musical.', 'Inteligencia naturalista.', 'Inteligencia intrapersonal.'], correctAnswer: 'Inteligencia interpersonal.' },
            { question: '¿Cuál de las siguientes inteligencias es más relevante en el diseño de sistemas IA?', options: ['Inteligencia lógico-matemática.', 'Inteligencia musical.', 'Inteligencia kinestésica.', 'Inteligencia intrapersonal.'], correctAnswer: 'Inteligencia lógico-matemática.' },
            { question: '¿Cuál de los siguientes es un fundamento clave de la IA?', options: ['La representación del conocimiento y el razonamiento.', 'La creación de robots.', 'El diseño de videojuegos.', 'La fabricación de chips de silicio.'], correctAnswer: 'La representación del conocimiento y el razonamiento.' },
            { question: '¿Qué papel cumple el aprendizaje automático en la IA?', options: ['Permite a las máquinas aprender de los datos sin ser programadas explícitamente.', 'Se encarga de la interfaz de usuario.', 'Controla el hardware del sistema.', 'Se utiliza para la creación de bases de datos.'], correctAnswer: 'Permite a las máquinas aprender de los datos sin ser programadas explícitamente.' },
            { question: '¿Qué tipo de datos necesita un sistema de IA para entrenarse?', options: ['Datos de entrenamiento etiquetados o sin etiquetar.', 'Solo datos de texto.', 'Datos de alta velocidad.', 'Datos en formato binario.'], correctAnswer: 'Datos de entrenamiento etiquetados o sin etiquetar.' },
            { question: '¿Qué es un modelo en el contexto de IA?', options: ['Una representación matemática de un sistema o proceso que ha sido entrenado para una tarea específica.', 'Un conjunto de datos de prueba.', 'Un programa de computadora simple.', 'Un tipo de sensor.'], correctAnswer: 'Una representación matemática de un sistema o proceso que ha sido entrenado para una tarea específica.' },
            { question: '¿Qué función cumple la retroalimentación en los sistemas inteligentes?', options: ['Permite al sistema corregir sus errores y mejorar su rendimiento.', 'Solo se usa para mostrar mensajes de error.', 'Permite la comunicación con el usuario.', 'No tiene un papel importante.'], correctAnswer: 'Permite al sistema corregir sus errores y mejorar su rendimiento.' },
            { question: '¿Qué paradigma de IA se basa en reglas explícitas y lógica formal?', options: ['Paradigma simbólico.', 'Paradigma conexionista.', 'Paradigma evolutivo.', 'Paradigma híbrido.'], correctAnswer: 'Paradigma simbólico.' },
            { question: '¿Cuál paradigma utiliza redes neuronales artificiales?', options: ['Paradigma conexionista.', 'Paradigma simbólico.', 'Paradigma evolutivo.', 'Paradigma híbrido.'], correctAnswer: 'Paradigma conexionista.' },
            { question: '¿Qué paradigma se inspira en procesos evolutivos naturales?', options: ['Paradigma evolutivo.', 'Paradigma conexionista.', 'Paradigma simbólico.', 'Paradigma híbrido.'], correctAnswer: 'Paradigma evolutivo.' },
            { question: '¿Qué paradigma combina lógica simbólica con aprendizaje estadístico?', options: ['Paradigma híbrido.', 'Paradigma conexionista.', 'Paradigma evolutivo.', 'Paradigma simbólico.'], correctAnswer: 'Paradigma híbrido.' },
            { question: '¿Qué paradigma es más adecuado para tareas de reconocimiento de patrones?', options: ['Paradigma conexionista.', 'Paradigma simbólico.', 'Paradigma evolutivo.', 'Paradigma híbrido.'], correctAnswer: 'Paradigma conexionista.' },
            { question: '¿Cuál de las siguientes es una herramienta común en IA?', options: ['Bibliotecas de aprendizaje automático como TensorFlow o PyTorch.', 'Hojas de cálculo.', 'Editores de texto.', 'Navegadores web.'], correctAnswer: 'Bibliotecas de aprendizaje automático como TensorFlow o PyTorch.' },
            { question: '¿Qué herramienta se utiliza para construir modelos de aprendizaje profundo?', options: ['Frameworks como TensorFlow y Keras.', 'Lenguajes de programación como C++.', 'Bases de datos relacionales.', 'Sistemas operativos.'], correctAnswer: 'Frameworks como TensorFlow y Keras.' },
            { question: '¿Qué entorno de programación es popular para IA?', options: ['Python con sus bibliotecas especializadas.', 'C++', 'Java.', 'JavaScript.'], correctAnswer: 'Python con sus bibliotecas especializadas.' },
            { question: '¿Qué tipo de software permite la visualización de datos en IA?', options: ['Herramientas de visualización como Matplotlib y Seaborn.', 'Compiladores.', 'Sistemas operativos.', 'Editores de código.'], correctAnswer: 'Herramientas de visualización como Matplotlib y Seaborn.' },
            { question: '¿Qué biblioteca facilita el procesamiento de lenguaje natural?', options: ['NLTK o spaCy.', 'NumPy.', 'Pandas.', 'Scikit-learn.'], correctAnswer: 'NLTK o spaCy.' },
            { question: '¿Cuál es una tendencia actual en el desarrollo de IA?', options: ['IA en la nube y modelos como servicio.', 'IA solo para supercomputadoras.', 'Desarrollo de IA en un solo idioma.', 'Uso de hardware de baja potencia.'], correctAnswer: 'IA en la nube y modelos como servicio.' },
            { question: '¿Qué implica el concepto de IA explicable?', options: ['La capacidad de entender por qué un modelo de IA llegó a una decisión o predicción.', 'El uso de modelos más simples.', 'El uso de modelos menos precisos.', 'La capacidad de la IA para explicar su propio código.'], correctAnswer: 'La capacidad de entender por qué un modelo de IA llegó a una decisión o predicción.' },
            { question: '¿Qué tendencia busca reducir el sesgo en los modelos de IA?', options: ['IA ética y responsable.', 'Aumento de la velocidad de entrenamiento.', 'Uso de más datos.', 'Implementación de IA en dispositivos móviles.'], correctAnswer: 'IA ética y responsable.' },
            { question: '¿Qué avance ha permitido el uso de IA en dispositivos móviles?', options: ['Edge computing y modelos ligeros.', 'El aumento del tamaño de los teléfonos.', 'El uso de modelos solo en la nube.', 'La reducción de la capacidad de la batería.'], correctAnswer: 'Edge computing y modelos ligeros.' },
            { question: '¿Qué tendencia se relaciona con la ética en el desarrollo de IA?', options: ['La regulación gubernamental y los principios de diseño ético.', 'El desarrollo de nuevos algoritmos.', 'El aumento de la capacidad de almacenamiento.', 'La creación de robots.'], correctAnswer: 'La regulación gubernamental y los principios de diseño ético.' },
            { question: '¿Qué es una búsqueda en el contexto de IA?', options: ['Un proceso para encontrar una secuencia de acciones que lleve de un estado inicial a un estado objetivo.', 'Un tipo de algoritmo de clasificación.', 'Una forma de entrenar un modelo.', 'La recolección de datos de internet.'], correctAnswer: 'Un proceso para encontrar una secuencia de acciones que lleve de un estado inicial a un estado objetivo.' },
            { question: '¿Qué representa el espacio de estados en una búsqueda?', options: ['El conjunto de todos los posibles estados o configuraciones del problema.', 'El costo de la solución.', 'La memoria utilizada por el algoritmo.', 'El tiempo de ejecución.'], correctAnswer: 'El conjunto de todos los posibles estados o configuraciones del problema.' },
            { question: '¿Qué significa encontrar una solución óptima?', options: ['Encontrar la mejor solución posible, generalmente la que tiene el costo más bajo o la ruta más corta.', 'Encontrar la primera solución posible.', 'Encontrar una solución que sea fácil de entender.', 'Encontrar una solución que no sea la más rápida.'], correctAnswer: 'Encontrar la mejor solución posible, generalmente la que tiene el costo más bajo o la ruta más corta.' },
            { question: '¿Qué papel cumple el nodo en una estructura de búsqueda?', options: ['Representa un estado particular del problema.', 'Es el punto de partida de la búsqueda.', 'Es el punto final de la búsqueda.', 'Almacena el costo de la solución.'], correctAnswer: 'Representa un estado particular del problema.' },
            { question: '¿Qué representa el costo de una solución?', options: ['La suma de los costos de las acciones que componen la solución.', 'El tiempo que toma encontrar la solución.', 'La memoria utilizada.', 'La complejidad del algoritmo.'], correctAnswer: 'La suma de los costos de las acciones que componen la solución.' },
            { question: '¿Cuál de los siguientes es un tipo de búsqueda informada?', options: ['Búsqueda A* (A-star).', 'Búsqueda en profundidad (DFS).', 'Búsqueda en anchura (BFS).', 'Búsqueda de costo uniforme.'], correctAnswer: 'Búsqueda A* (A-star).' },
            { question: '¿Qué tipo de búsqueda utiliza conocimiento adicional para guiar el proceso?', options: ['Búsqueda informada o heurística.', 'Búsqueda no informada.', 'Búsqueda exhaustiva.', 'Búsqueda aleatoria.'], correctAnswer: 'Búsqueda informada o heurística.' },
            { question: '¿Qué tipo de búsqueda explora todos los caminos posibles sin información previa?', options: ['Búsqueda no informada o a ciegas.', 'Búsqueda heurística.', 'Búsqueda A*.', 'Búsqueda de ascenso de colina.'], correctAnswer: 'Búsqueda no informada o a ciegas.' },
            { question: '¿Qué tipo de búsqueda es más eficiente en problemas complejos?', options: ['Búsqueda informada.', 'Búsqueda en anchura.', 'Búsqueda en profundidad.', 'Búsqueda de costo uniforme.'], correctAnswer: 'Búsqueda informada.' },
            { question: '¿Qué tipo de búsqueda se basa en una función heurística?', options: ['Búsqueda informada.', 'Búsqueda no informada.', 'Búsqueda de costo uniforme.', 'Búsqueda en anchura.'], correctAnswer: 'Búsqueda informada.' }
        ];

        let selectedQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;
        let userName = null;
        let userEmail = null;
        let isQuizActive = false;
        let userHasTakenQuiz = false;

        const userInfoSection = document.getElementById('user-info');
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const userForm = document.getElementById('user-form');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const timerDisplay = document.getElementById('timer');
        const finalNameSpan = document.getElementById('final-name');
        const finalEmailSpan = document.getElementById('final-email');
        const scoreSpan = document.getElementById('score');
        const downloadButton = document.getElementById('download-score');
        
        // Modal logic (instead of alert)
        const createModal = (message) => {
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background-color: rgba(0, 0, 0, 0.5); display: flex;
                justify-content: center; align-items: center; z-index: 1000;
            `;

            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white; padding: 24px; border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); text-align: center;
                max-width: 400px; width: 90%;
            `;

            const messageText = document.createElement('p');
            messageText.textContent = message;
            messageText.style.fontSize = '1.1rem';
            messageText.style.marginBottom = '20px';

            const closeButton = document.createElement('button');
            closeButton.textContent = 'Aceptar';
            closeButton.style.cssText = `
                background-color: #3b82f6; color: white; border: none;
                padding: 10px 20px; border-radius: 6px; cursor: pointer;
            `;
            closeButton.onclick = () => document.body.removeChild(modalOverlay);

            modalContent.appendChild(messageText);
            modalContent.appendChild(closeButton);
            modalOverlay.appendChild(modalContent);
            document.body.appendChild(modalOverlay);
        };

        const selectRandomQuestions = () => {
            const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
            selectedQuestions = shuffled.slice(0, 10);
        };

        const showQuestion = () => {
            if (!isQuizActive) return;

            if (currentQuestionIndex < selectedQuestions.length) {
                const currentQuestion = selectedQuestions[currentQuestionIndex];
                questionText.textContent = currentQuestion.question;
                optionsContainer.innerHTML = '';
                
                const shuffledOptions = [...currentQuestion.options].sort(() => 0.5 - Math.random());
                
                shuffledOptions.forEach(option => {
                    const button = document.createElement('div');
                    button.className = 'option';
                    button.textContent = option;
                    button.addEventListener('click', () => handleAnswer(option, currentQuestion.correctAnswer));
                    optionsContainer.appendChild(button);
                });
                
                resetTimer();
            } else {
                endQuiz();
            }
        };

        const handleAnswer = (selectedOption, correctAnswer) => {
            if (!isQuizActive) return;
            clearInterval(timer);
            
            const options = optionsContainer.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                } else if (option.textContent === selectedOption) {
                    option.classList.add('incorrect');
                }
            });

            if (selectedOption === correctAnswer) {
                score++;
            }

            setTimeout(() => {
                currentQuestionIndex++;
                showQuestion();
            }, 1500);
        };

        const startTimer = () => {
            timeLeft = 30;
            timerDisplay.textContent = `Tiempo restante: ${timeLeft}s`;
            
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `Tiempo restante: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    const options = optionsContainer.querySelectorAll('.option');
                    options.forEach(option => option.style.pointerEvents = 'none');
                    setTimeout(() => {
                        currentQuestionIndex++;
                        showQuestion();
                    }, 1500);
                }
            }, 1000);
        };

        const resetTimer = () => {
            clearInterval(timer);
            startTimer();
        };

        const endQuiz = () => {
            isQuizActive = false;
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            
            finalNameSpan.textContent = userName;
            finalEmailSpan.textContent = userEmail;
            scoreSpan.textContent = score;

            sendResultsToServer(userName, userEmail, score);

            localStorage.setItem(userEmail, 'completed');
        };

        userForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const fullName = document.getElementById('full-name').value.trim();
            const email = document.getElementById('email').value.trim();
            
            if (localStorage.getItem(email)) {
                createModal('Ya has contestado este examen. No se permiten reintentos.');
                return;
            }

            userName = fullName;
            userEmail = email;
            
            userInfoSection.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            isQuizActive = true;
            
            selectRandomQuestions();
            showQuestion();
        });

        // Función simulada para enviar resultados
        const sendResultsToServer = async (name, email, finalScore) => {
            const serverUrl = 'https://tu-servidor-backend.com/api/send-email';
            const professorEmail = 'karla.ayard@universidad-une.com';

            try {
                const response = await fetch(serverUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        name,
                        email,
                        score: finalScore,
                        professorEmail
                    }),
                });

                if (response.ok) {
                    console.log('Resultados enviados por correo correctamente.');
                } else {
                    console.error('Error al enviar los resultados por correo.');
                }
            } catch (error) {
                console.error('Error de red:', error);
            }
        };

        downloadButton.addEventListener('click', () => {
            const textToDownload = `
Resultados del Examen
--------------------
Nombre: ${userName}
Correo: ${userEmail}
Puntuación: ${score} / 10
            `;
            
            const blob = new Blob([textToDownload], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `examen-puntuacion-${userName.replace(/\s/g, '-')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>


